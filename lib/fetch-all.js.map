{"version":3,"sources":["lib/fetch-all.es6"],"names":[],"mappings":";;;;;;;;;oBAewB,QAAQ;;;;;;;;;;;;;;AAAjB,YAAS,QAAQ,CAAE,GAAG,EAAE,OAAO,EAAG;AAC9C,aAAO,KAAK,CAAE,GAAG,EAAE,OAAO,CAAE,CACxB,IAAI,CAAE,SAAS,cAAc,CAAE,QAAQ,EAAG;AACxC,aAAM,OAAO,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;AAChC,aAAM,KAAK,GAAG,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAE,MAAM,CAAE,CAAC;AAC7C,aAAM,IAAI,GAAG,KAAK,IAAI,6BAAY,KAAK,CAAE,CAAC,IAAI,CAAC;;AAE/C,aAAI,IAAI,EAAG;AACR,mBAAO,KAAK,CAAE,IAAI,EAAE,OAAO,CAAE,CACzB,IAAI,CAAE,cAAc,CAAE,CACtB,IAAI,CAAE,UAAE,IAAI;sBAAM,OAAO,CAAC,IAAI,CAAE,UAAE,IAAI;yBAAM,IAAI,CAAC,MAAM,CAAE,IAAI,CAAE;gBAAA,CAAE;aAAA,CAAE,CAAC;UAC1E,MAAM;AACJ,mBAAO,OAAO,CAAC;UACjB;OACH,CAAE,CAAC;IACT","file":"lib/fetch-all.es6","sourcesContent":["/**\n * Copyright 2015 aixigo AG\n * Released under the MIT license.\n * http://laxarjs.org/license\n */\n\nimport parseLinks from './parse-links';\n\n/**\n * Fetch the given URL and keep following the \"next\" link\n * until all results are returned.\n * @param {String} url\n * @param {Object} options\n * @return {Promise}\n */\nexport default function fetchAll( url, options ) {\n   return fetch( url, options )\n      .then( function handleResponse( response ) {\n         const promise = response.json();\n         const links = response.headers.get( 'Link' );\n         const next = links && parseLinks( links ).next;\n\n         if( next ) {\n            return fetch( next, options )\n               .then( handleResponse )\n               .then( ( tail ) => promise.then( ( head ) => head.concat( tail ) ) );\n         } else {\n            return promise;\n         }\n      } );\n}\n"]}